{
    "additionalProperties": false,
    "id": "config",
    "properties": {
        "account": {
            "additionalProperties": false,
            "properties": {
                "accountDir": {
                    "type": "string"
                },
                "accountIdLength": {
                    "type": "integer"
                },
                "challenge": {
                    "additionalProperties": false,
                    "type": "object",
                    "properties": {
                        "algo": {
                            "type": "string"
                        },
                        "saltLength": {
                            "type": "integer",
                            "minimum": 1
                        }
                    },
                    "required": [
                        "algo",
                        "saltLength"
                    ]
                },
                "completeLifetime": {
                    "$ref": "definitions#/datePlus"
                },
                "idHash": {
                    "additionalProperties": false,
                    "type": "object",
                    "properties": {
                        "algo": {
                            "type": "string"
                        },
                        "bytes": {
                            "type": "integer",
                            "minimum": 1
                        },
                        "iterations": {
                            "type": "integer",
                            "minimum": 1
                        },
                        "salt": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "algo",
                        "bytes",
                        "iterations"
                    ]
                },
                "initiateLifetime": {
                    "$ref": "definitions#/datePlus"
                },
                "loginDir": {
                    "type": "string"
                },
                "loginIdLength": {
                    "type": "integer",
                    "minimum": 1
                },
                "loginLifetime": {
                    "$ref": "definitions#/datePlus"
                },
                "passwordSaltLength": {
                    "type": "integer",
                    "minimum": 1
                },
                "registrationDir": {
                    "type": "string"
                },
                "registrationIdLength": {
                    "type": "integer",
                    "minimum": 1
                },
                "secureHash": {
                    "additionalProperties": false,
                    "type": "object",
                    "properties": {
                        "algo": {
                            "type": "string"
                        },
                        "bytes": {
                            "type": "integer",
                            "minimum": 1
                        },
                        "derivation": {
                            "type": "string"
                        },
                        "iterations": {
                            "type": "integer",
                            "minimum": 1
                        },
                        "saltLength": {
                            "type": "integer",
                            "minimum": 1
                        }
                    },
                    "required": [
                        "algo",
                        "bytes",
                        "derivation",
                        "iterations",
                        "saltLength"
                    ]
                }
            },
            "type": "object"
        },
        "debug": {
            "type": "boolean"
        },
        "encryption": {
            "additionalProperties": false,
            "properties": {
                "primary": {
                    "$ref": "definitions#/encryptType"
                },
                "secondary": {
                    "$ref": "definitions#/encryptType"
                }
            },
            "required": [
                "primary",
                "secondary"
            ],
            "type": "object"
        },
        "hotp": {
            "properties": {
                "name": {
                     "type": "string"
                },
                "keySize": {
                    "type": "integer"
                }
            },
            "required": [
                "name",
                "keySize"
            ],
            "type": "object"
        },
        "server": {
            "additionalProperties": false,
            "properties": {
                "baseUrl": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "port": {
                    "type": "integer"
                },
                "profileMiddleware": {
                    "type": "boolean"
                },
                "proxyProtocol": {
                    "type": "boolean"
                }
            },
            "required": [
                "baseUrl",
                "name"
            ],
            "type": "object"
        },
        "storage": {
            "additionalProperties": true,
            "properties": {
                "engine": {
                    "type": "string"
                }
            },
            "required": [
                "engine"
            ],
            "type": "object"
        }
    },
    "required": [
        "account",
        "encryption",
        "hotp",
        "server",
        "storage"
    ],
    "type": "object"
}